{"version":3,"sources":["auth/index.js","components/Nav.js","components/Result.js","components/Predict.js","context/GlobalContext.js","components/Archive.js","components/Temp.js","components/Tab.js","components/Login.js","App.js","index.js"],"names":["createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","r","console","log","json","useAuth","login","logout","Nav","logged","Navbar","bg","variant","Brand","href","Collapse","className","Button","onClick","Result","prediction","images","overColor","risk","base","filePath","fileName","i","length","push","CardGroup","Card","Img","src","file_name","risk_level","toFixed","Predict","useState","setPrediction","uploadInput","setUploadInput","id","setId","imgFile","setImgFile","overRisk","setOverRisk","useEffect","myHeaders","Headers","localStorage","getItem","split","append","raw","JSON","stringify","headers","redirect","response","result","tiles","catch","error","Form","onSubmit","event","preventDefault","data","FormData","files","image_file","overall_risk","Group","controlId","Label","Control","type","placeholder","onChange","target","value","ref","ArchContext","createContext","Archive","savedImages","setSavedImages","useContext","arch","setArch","getUserImg","map","item","style","width","Body","Title","name","Text","date","React","Component","Tab","Tabs","defaultActiveKey","eventKey","title","Login","username","setUsername","password","setPassword","email","setEmail","signup","setSignup","handleUsernameChange","handlePasswordChange","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d322d70.chunk.js","sourcesContent":["import {createAuthProvider} from 'react-token-auth';\r\n\r\n\r\nexport const [useAuth, authFetch, login, logout] =\r\n    createAuthProvider({\r\n        accessTokenKey: 'access_token',\r\n        onUpdateToken: (token) => fetch('https://oncoiq-backend.herokuapp.com//api/refresh', {\r\n            method: 'POST',\r\n            body: token.access_token\r\n        })\r\n        .then(r => {\r\n            console.log(\"r: \" + r)\r\n            r.json()\r\n        })\r\n    });","import React from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {login, authFetch, useAuth, logout} from \"../auth\";\r\n\r\nexport default function Nav() {\r\n    const [logged] = useAuth();\r\n\r\n    return (\r\n        <div>\r\n            <Navbar bg=\"primary\" variant=\"dark\">\r\n                <Navbar.Brand href=\"#home\">oncoIQ</Navbar.Brand>\r\n                <Navbar.Collapse className=\"justify-content-end\">\r\n                    {\r\n                        logged? <Button variant=\"outline-light\" onClick={() => logout()}>Logout</Button> : null\r\n                    }\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport CardGroup from 'react-bootstrap/CardGroup';\r\nimport sample from './sample.png';\r\n\r\nexport default function Result({ prediction }) {\r\n    const images = [];\r\n\r\n    function overColor(risk) {\r\n        var base = 'overlay text-center ';\r\n\r\n        if (risk > 0.75) {\r\n            base += 'bg-danger';\r\n        } else if (risk > 0.5) {\r\n            base += 'bg-warning';\r\n        } else {\r\n            base += 'bg-success';\r\n        }\r\n\r\n        return base;\r\n    }\r\n\r\n    function overOpa(risk) {\r\n        const opa = {\r\n            opacity: '' + risk,\r\n        };\r\n\r\n        return opa;\r\n    }\r\n\r\n    function filePath(fileName) {\r\n        return 'https://oncoiq-backend.herokuapp.com/static/tissue_images/' + fileName;\r\n    }\r\n\r\n    for (let i = 0; i < prediction.length; i += 5) {\r\n        images.push(\r\n            <CardGroup>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src={filePath(prediction[i].file_name)} />\r\n                    <div className={overColor(prediction[i].risk_level.toFixed(2))}>\r\n                        {prediction[i].risk_level.toFixed(2)}\r\n                    </div>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src={filePath(prediction[i+1].file_name)} />\r\n                    <div className={overColor(prediction[i+1].risk_level.toFixed(2))}>\r\n                        {prediction[i+1].risk_level.toFixed(2)}\r\n                    </div>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src={filePath(prediction[i+2].file_name)} />\r\n                    <div className={overColor(prediction[i+2].risk_level.toFixed(2))}>\r\n                        {prediction[i+2].risk_level.toFixed(2)}\r\n                    </div>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src={filePath(prediction[i+3].file_name)} />\r\n                    <div className={overColor(prediction[i+3].risk_level.toFixed(2))}>\r\n                        {prediction[i+3].risk_level.toFixed(2)}\r\n                    </div>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Img variant=\"top\" src={filePath(prediction[i+4].file_name)} />\r\n                    <div className={overColor(prediction[i+4].risk_level.toFixed(2))}>\r\n                        {prediction[i+4].risk_level.toFixed(2)}\r\n                    </div>\r\n                </Card>\r\n            </CardGroup>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className='custom-card'>\r\n            {images}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Result from'./Result';\r\n\r\nexport default function Predict() {\r\n    const [prediction, setPrediction] = useState(null);\r\n    const [uploadInput, setUploadInput] =useState(null);\r\n    const [id, setId] = useState(null);\r\n    const [imgFile, setImgFile] = useState(null);\r\n    const [overRisk, setOverRisk] = useState(0);\r\n\r\n    function handleIDChange(event) {\r\n        event.preventDefault();\r\n        setId(event.target.value);\r\n    }\r\n\r\n    function handleUploadImage(event) {\r\n        event.preventDefault();\r\n    \r\n        var myHeaders = new Headers();\r\n        const token = localStorage.getItem('REACT_TOKEN_AUTH_KEY').split('\"')[1];\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n\r\n        const data = new FormData();\r\n        data.append('file', uploadInput.files[0]);\r\n        data.append('name', id);\r\n\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: data,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch('https://oncoiq-backend.herokuapp.com/api/upload_image', requestOptions)\r\n        .then(response => response.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            setImgFile(result.image_file);\r\n            setOverRisk(result.overall_risk.toFixed(4));\r\n        })\r\n        .catch((error) => {\r\n            console.log('error', error);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        var myHeaders = new Headers();\r\n        const token = localStorage.getItem('REACT_TOKEN_AUTH_KEY').split('\"')[1];\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n\r\n        var raw = JSON.stringify({\"image_file\":imgFile});\r\n\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch('https://oncoiq-backend.herokuapp.com/api/get_tiles', requestOptions)\r\n        .then(response => response.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            setPrediction(result.tiles);\r\n            setImgFile(null);\r\n        })\r\n        .catch((error) => {\r\n            console.log('error', error);\r\n        });\r\n    }, [imgFile]);\r\n\r\n    if (prediction != null) {\r\n        return (\r\n            <div className='mt-5'>\r\n                <Result prediction={prediction}/>\r\n                <p>Overall Risk: {overRisk}</p>\r\n                <Button className='mt-3' variant='primary' onClick={() => setPrediction(null)}>Upload</Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className='mt-4'>\r\n            <br />\r\n            <h3 className='mb-4'>Upload a histopathology image</h3>\r\n            <Form onSubmit={handleUploadImage}>\r\n                <Form.Group className='mt-3' controlId='formID'>\r\n                    <Form.Label>Patient ID</Form.Label>\r\n                    <Form.Control className='w-auto' type='text' placeholder='Patient ID' onChange={handleIDChange}/>\r\n                </Form.Group>\r\n                <input className='mt-4' ref={(ref) => setUploadInput(ref)} type=\"file\" />\r\n                <Button className='' variant='primary' type='submit'>\r\n                    Upload\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n","import { createContext } from 'react';\r\n\r\nexport const ArchContext = createContext();","import React, { useState, useEffect, useContext } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport sample from './sample.png';\r\nimport { ArchContext } from '../context/GlobalContext';\r\n\r\nexport default function Archive() {\r\n    const [savedImages, setSavedImages] = useState([]);\r\n    const {arch, setArch} = useContext(ArchContext);\r\n\r\n    function getUserImg() {\r\n        var myHeaders = new Headers();\r\n        const token = localStorage.getItem('REACT_TOKEN_AUTH_KEY').split('\"')[1];\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch('https://oncoiq-backend.herokuapp.com/api/get_user_images', requestOptions)\r\n        .then(response => response.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            setSavedImages(result);\r\n        })\r\n        .catch((error) => {\r\n            console.log('error', error);\r\n        });\r\n    }\r\n\r\n    function filePath(fileName) {\r\n        return 'https://oncoiq-backend.herokuapp.com/static/tissue_images/' + fileName;\r\n    }\r\n\r\n    if (arch) {\r\n        getUserImg();\r\n        setArch(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { savedImages.map((item) => {\r\n                return (\r\n                    <div className='mt-5'>\r\n                        <Card style={{ width: '18rem' }}>\r\n                        <Card.Img variant=\"top\" src={filePath(item.image_file)} />\r\n                        <Card.Body>\r\n                            <Card.Title>{item.name}</Card.Title>\r\n                            <Card.Text>\r\n                                {item.date}\r\n                            </Card.Text>\r\n                            <Button variant=\"outline-primary\">View</Button>\r\n                            <Button className='ml-2' variant=\"outline-danger\">Delete</Button>\r\n                        </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n                );\r\n            }) }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {login, authFetch, useAuth, logout} from \"../auth\";\r\n\r\nclass Temp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      imageURL: '',\r\n    };\r\n\r\n    this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n  handleUploadImage(ev) {\r\n    ev.preventDefault();\r\n\r\n    var myHeaders = new Headers();\r\n    const token = localStorage.getItem('REACT_TOKEN_AUTH_KEY').split('\"')[1];\r\n    console.log(\"local key\", token);\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n\r\n    const data = new FormData();\r\n    data.append('file', this.uploadInput.files[0]);\r\n\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        headers: myHeaders,\r\n        body: data,\r\n        redirect: 'follow'\r\n    };\r\n\r\n    fetch('http://localhost:5000/api/upload_image', requestOptions)\r\n    // .then((response) => {\r\n    //   response.json().then((body) => {\r\n    //     this.setState({ imageURL: `http://localhost:8000/${body.file}` });\r\n    //   });\r\n    // });\r\n    .then(response => response.json())\r\n    .then((result) => {\r\n        console.log(result);\r\n    })\r\n    .catch((error) => {\r\n        console.log('error', error);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleUploadImage}>\r\n        <div>\r\n          <input ref={(ref) => { this.uploadInput = ref; }} type=\"file\" />\r\n        </div>\r\n        <div>\r\n          <input ref={(ref) => { this.fileName = ref; }} type=\"text\" placeholder=\"Enter the desired name of file\" />\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <button>Upload</button>\r\n        </div>\r\n        <img src={this.state.imageURL} alt=\"img\" />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Temp;","import React, { useContext } from 'react';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Predict from './Predict';\r\nimport Archive from './Archive';\r\nimport Temp from './Temp'\r\nimport { ArchContext } from '../context/GlobalContext';\r\nimport {login, authFetch, useAuth, logout} from \"../auth\";\r\n\r\nexport default function Tab() {\r\n    const {arch, setArch} = useContext(ArchContext);\r\n\r\n    const [logged] = useAuth();\r\n\r\n    if (!logged) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className='mt-5'>\r\n            <Tabs defaultActiveKey=\"predict\" id=\"uncontrolled-tab-example\" onClick={() => setArch(true)}>\r\n                <Tab eventKey=\"predict\" title=\"Upload\" className='custom-tab justify-content-center'>\r\n                    <Predict />\r\n                </Tab>\r\n                <Tab eventKey=\"archive\" title=\"Archive\">\r\n                    <Archive />\r\n                </Tab>\r\n            </Tabs>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport {login, authFetch, useAuth, logout} from \"../auth\";\r\n\r\nexport default function Login() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [signup, setSignup] = useState(false);\r\n\r\n    const [logged] = useAuth();\r\n    \r\n    function handleLogin(event) {\r\n        event.preventDefault();\r\n\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n        var raw = JSON.stringify({\"username\":username,\"password\":password});\r\n\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"https://oncoiq-backend.herokuapp.com/api/login\", requestOptions)\r\n        .then(response => response.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            \r\n            if (result.access_token != null) {\r\n                login(result.access_token);\r\n                console.log(result.access_token);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log('error', error);\r\n        });\r\n    }\r\n\r\n    function handleSignup(event) {\r\n        event.preventDefault();\r\n\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n        var raw = JSON.stringify({\"username\":username,\"email\":email,\"password\":password});\r\n\r\n        var requestOptions = {\r\n            method: 'POST',\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow'\r\n        };\r\n\r\n        fetch(\"https://oncoiq-backend.herokuapp.com/api/register\", requestOptions)\r\n        .then(response => response.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            setSignup(false);\r\n        })\r\n        .catch((error) => {\r\n            console.log('error', error);\r\n        });\r\n    }\r\n\r\n    function handleUsernameChange(event) {\r\n        event.preventDefault();\r\n        setUsername(event.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(event) {\r\n        event.preventDefault();\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n    function handleEmailChange(event) {\r\n        event.preventDefault();\r\n        setEmail(event.target.value);\r\n    }\r\n\r\n    if (logged) {\r\n        return null;\r\n    }\r\n\r\n    if (signup) {\r\n        return (\r\n            <div className='mt-5'>\r\n                <Form onSubmit={handleSignup}>\r\n                    <Form.Group controlId='formEmail'>\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type='email' placeholder='Email' onChange={handleEmailChange}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId='formUsername'>\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type='text' placeholder='Username' onChange={handleUsernameChange}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId='formPassword'>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type='password' placeholder='Password' onChange={handlePasswordChange}/>\r\n                    </Form.Group>\r\n\r\n                    <Button variant='primary' type='submit'>\r\n                        Sign Up\r\n                    </Button>\r\n                    <Button className='ml-2' variant='outline-primary' onClick={() => setSignup(false)}>\r\n                        Login\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className='mt-5 d-flex justify-content-center'>\r\n            <div className='p-5'>\r\n                <h1>Welcome to oncoIQ</h1>\r\n                <p>Using AI image recognition to help pathologists make diagnoses</p>\r\n            </div>\r\n            <div>\r\n                <Form onSubmit={handleLogin}>\r\n                    <Form.Group controlId='formUsername'>\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control className='w-auto' type='text' placeholder='Username' onChange={handleUsernameChange}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId='formPassword'>\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control className='w-auto' type='password' placeholder='Password' onChange={handlePasswordChange}/>\r\n                    </Form.Group>\r\n\r\n                    <Button variant='primary' type='submit'>\r\n                        Login\r\n                    </Button>\r\n                    <Button className='ml-2' variant='outline-primary' onClick={() => setSignup(true)}>\r\n                        Sign Up\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport Nav from './components/Nav';\r\nimport Tab from './components/Tab';\r\nimport Login from './components/Login';\r\nimport { ArchContext } from './context/GlobalContext';\r\n\r\nfunction App() {\r\n    const [arch, setArch] = useState(false);\r\n\r\n    return (\r\n        <div>\r\n            <Nav />\r\n            <ArchContext.Provider value={{arch, setArch}}>\r\n                <div className='container'>\r\n                    <Login />\r\n                    <Tab />\r\n                </div>\r\n            </ArchContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}